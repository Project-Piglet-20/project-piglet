(this.webpackJsonppiglet=this.webpackJsonppiglet||[]).push([[0],{236:function(e,t,c){},460:function(e,t,c){"use strict";c.r(t);var s=c(0),a=(c(236),c(7)),n=c(8),i=c(11),r=c(10),l=c(1),d=c(223),o=c(140),j=c.n(o),b=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"componentDidMount",value:function(){var e={signInSuccessUrl:"/home",signInOptions:[{provider:j.a.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"IN"}],tosUrl:"/home"};new d.a.AuthUI(j.a.auth()).start("#firebaseui-auth-container",e)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"center",children:Object(s.jsx)("h3",{children:"Small verification before reporting!"})}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{id:"firebaseui-auth-container"}),Object(s.jsx)("br",{})]})]})}}]),c}(l.Component),u=c(25),h=c(9),m=function(e){return function(t,c,s){(0,s.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",err:e})}))}},O=c(15),x=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.submitHandler=function(t){t.preventDefault(),e.props.signIn(e.state),e.props.history.push("/admin/issues")},e.inputHandler=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.authError;return Object(s.jsx)("div",{className:"container",style:{height:"42.5vh"},children:Object(s.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(s.jsx)("h5",{className:"blye-grey-text text-darken-4",children:"Sign In"}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"email",type:"email",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(s.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"password",type:"password",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(s.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("button",{type:"submit",className:"btn teal lighten-2 z-depth-2",children:"Login"}),Object(s.jsx)("div",{className:"red-text center",children:t?Object(s.jsx)("p",{children:t}):null})]})]})})}}]),c}(l.Component),p=Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e(m(t))}}}))(Object(O.g)(x)),f=c(233),v=function(e){var t=e.color,c=e.name;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:c}),Object(s.jsx)("div",{className:"pulse"})]})},g=function(){return{disableDefaultUI:!0,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},N=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={center:{lat:null,lng:null},zoom:20},e.location=function(){e.props.center?e.setState({center:e.props.center}):navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.setState({center:{lat:t.coords.latitude,lng:t.coords.longitude}})}))},e}return Object(n.a)(c,[{key:"UNSAFE_componentWillMount",value:function(){this.location()}},{key:"render",value:function(){return Object(s.jsx)("div",{style:{height:"60vh",width:"100%"},children:Object(s.jsx)(f.a,{bootstrapURLKeys:{key:"AIzaSyAbIuPIQlI4AukyWuZOgHp4I5lammFppv8"},center:this.state.center,defaultZoom:this.state.zoom,options:g,children:Object(s.jsx)(v,{lat:this.state.center.lat,lng:this.state.center.lng,name:"My Location",color:"red"})})})}}]),c}(l.Component),y=c(230),w=c.n(y),C=c(14),S=c(232),D=c(17),k=c(26),I="pk.eyJ1IjoidmlwaW5yYmhhcmFkd2FqIiwiYSI6ImNrY3VvZGQ0MzJhNHYyeHM2a21uNGEzZm4ifQ.53CYrj7PS_gUiv8iqESrXQ",E=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={Category:"Select Category",Type:null,Location:{lat:null,lng:null},Number:e.props.number,Status:"Reported",DOC:"-"},e.get_data=function(t,c){var s="https://api.mapbox.com/geocoding/v5/mapbox.places/"+c+", "+t+".json?access_token="+I;w.a.get(s).then((function(t){var c="Your Location: "+t.data.features[1].text;window.M.toast({html:c,options:{displayLength:100}}),e.setState({Locality:t.data.features[1].text})}))},e.addData=function(t){e.setState({Category:t.Cid,Type:t.value})},e.clickHandler=function(t){t&&e.setState(Object(u.a)({},t.target.id,t.target.value))},e.submitHandler=function(t){t.preventDefault(),e.props.addIssue(e.state),e.props.history.push("/home")},e.resetHandler=function(){e.setState({state:{Category:"Select Category",Type:null,Location:{lat:null,lng:null},Number:null,Status:"Reported",DOC:"-"}})},e}return Object(n.a)(c,[{key:"UNSAFE_componentWillMount",value:function(){this.getLocation()}},{key:"getLocation",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.setState({Location:{lat:t.coords.latitude,lng:t.coords.longitude}}),e.get_data(t.coords.latitude,t.coords.longitude)})):alert("Sorry, browser does not support geolocation!")}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:function(t){return e.submitHandler(t)},onReset:this.resetHandler,children:[Object(s.jsxs)("h3",{className:"center",style:{color:"#00838f"},children:["Fill in the details",Object(s.jsx)("i",{className:"material-icons small",children:"article"})]}),Object(s.jsx)("br",{})," ",Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("i",{className:"material-icons prefix",children:"phone"}),Object(s.jsx)("input",{id:"Number",type:"number"}),Object(s.jsx)("label",{htmlFor:"number",children:this.state.Number})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{style:{fontSize:"larger",color:"black"},children:"What is the problem?"}),Object(s.jsx)("i",{className:"material-icons left",children:"search"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"input-field",children:Object(s.jsx)(S.a,{isClearable:!0,options:this.props.CategoryList,onChange:function(t){return e.addData(t)}})})]}),Object(s.jsx)("div",{style:{padding:"30px"}}),Object(s.jsxs)("div",{className:"center",style:{paddingLeft:"40px"},children:[Object(s.jsxs)("button",{disabled:!this.state.Type,className:"btn waves-effect waves-light center",type:"submit",children:[Object(s.jsx)("i",{className:"material-icons right",children:"send"}),"Submit"]}),Object(s.jsx)("button",{disabled:!this.state.Type,className:"btn-floating waves-effect waves-light red right",type:"reset",children:Object(s.jsx)("i",{className:"material-icons",children:"delete"})})]}),Object(s.jsx)("br",{})]})})}}]),c}(l.Component),L=Object(C.d)(Object(h.b)((function(e){return{CategoryList:e.firestore.ordered.dropdownList}}),(function(e){return{addIssue:function(t){return e(function(e){return function(t,c,s){s.getFirebase,(0,s.getFirestore)().collection("issues").add(Object(k.a)(Object(k.a)({},e),{},{DOR:new Date})).then((function(){t({type:"ADD_ISSUE",issue:e})})).catch((function(e){t({type:"ADD_ISSUE_ERROR",err:e})}))}}(t))}}})),Object(D.firestoreConnect)([{collection:"dropdownList"}]))(Object(O.g)(E)),R=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){var e=this.props.auth;return e.uid?Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col s12 m10 offset-m1",children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"card-panel hoverable",children:[Object(s.jsx)("br",{}),Object(s.jsx)(L,{number:e.phoneNumber})]}),Object(s.jsx)("br",{})]})}):Object(s.jsx)(O.a,{to:"/"})}}]),c}(l.Component),F=Object(h.b)((function(e){return{auth:e.firebase.auth}}))(R),A=function(e){var t=e.people,c=e.content,a=t.map((function(e){var t=Object(s.jsx)("div",{children:Object(s.jsxs)("h5",{className:"deep-orange-text text-accent-3",children:[e.name,Object(s.jsx)("i",{className:"material-icons black-text right",children:"keyboard_arrow_up"})]})});return Object(s.jsx)("div",{className:"col s12 m4",children:Object(s.jsx)("div",{className:"icon-block",children:Object(s.jsxs)("div",{className:"card z-depth-5",style:{minWidth:"100%",maxWidth:"360px"},children:[Object(s.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(s.jsx)("img",{className:"activator",src:e.img,alt:e.name})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("span",{className:"card-title activator grey-text text-darken-4",children:Object(s.jsx)("h5",{children:t})}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{style:{paddingBottom:"10px"},children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ullamcorper pretium ornare. In iaculis, nulla vel feugiat efficitur."}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px"},children:[Object(s.jsx)("span",{className:"left blue-text",children:Object(s.jsx)("div",{className:"center",children:e.phone})}),Object(s.jsx)("span",{className:"right blue-greytext text-darken-4",children:Object(s.jsx)("div",{className:"center",children:e.emailId})}),Object(s.jsx)("br",{})]})]}),Object(s.jsxs)("div",{className:"card-reveal",children:[Object(s.jsx)("span",{className:"card-title grey-text text-darken-4",children:Object(s.jsxs)("h5",{className:"deep-orange-text text-accent-3",children:[e.name,Object(s.jsx)("i",{className:"material-icons black-text right",children:"keyboard_arrow_down"})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:c})]})]})})},e.id)}));return Object(s.jsx)("div",{children:a})},H=c.p+"static/media/Vipin.b2ac999c.jpg",U=c.p+"static/media/Vishak.02ccc864.jpg",_=c.p+"static/media/Vivek.c7a2b586.jpeg",T=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={people:[{id:1,img:H,name:"Vipin R Bharadwaj",phone:"+91 9900112800",emailId:"vipinr.is17@bmsce.ac.in"},{id:2,img:U,name:"Vishak LV",phone:"+91 8310380647",emailId:"vishak.is17@bmsce.ac.in"},{id:3,img:_,name:"Vivek V",phone:"+91 8095739921",emailId:"vivek.is17@bmsce.ac.in"}],content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ullamcorper pretium ornare. In iaculis, nulla vel feugiat efficitur, diam ex facilisis tortor, sit amet rutrum neque ligula quis diam. Vivamus vel lorem eu nibh interdum pulvinar ac in dolor. Sed orci libero, commodo vulputate laoreet id, blandit gravida libero. Nunc metus metus, vehicula nec cursus eu, pellentesque vel enim. Duis ornare risus est, sit amet dictum nibh porta sed."},e}return Object(n.a)(c,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("main",{className:"container",children:Object(s.jsx)("div",{className:"section",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(A,{people:this.state.people,content:this.state.content})})})})]})}}]),c}(l.Component),P=c(39),z=c.n(P),V=function(e){var t=e.issue;return Object(s.jsx)("div",{className:"col s12 m6",children:Object(s.jsx)("div",{className:"card z-depth-1 hoverable issue-summary",style:{height:"310px"},children:Object(s.jsxs)("div",{className:"card-content blue-grey-text text-darken-4",children:[Object(s.jsx)("div",{children:Object(s.jsx)("span",{className:"card-title",style:{height:"60px"},children:Object(s.jsx)("b",{children:t.Type})})}),Object(s.jsx)("div",{className:"divider red accent-3",style:{padding:"3px"}}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("p",{children:t.Category}),Object(s.jsx)("p",{children:t.Locality}),Object(s.jsx)("p",{children:t.Status}),Object(s.jsx)("p",{children:"-"!==t.DOC?z()(t.DOC.toDate()).calendar():"-"})]}),Object(s.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(s.jsx)("div",{children:z()(t.DOR.toDate()).calendar()})})]})})})},G=c(12),B=function(e){var t=e.issues,c=1,a=t?t.map((function(e){return Object(s.jsx)(G.b,{to:"/issues/"+e.id,children:Object(s.jsx)(V,{issue:e})},c++)})):Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"indeterminate"})});return Object(s.jsx)("div",{className:"issue-list section",children:Object(s.jsx)("div",{className:"row",children:a})})},W=function(e){var t=e.notifications;return Object(s.jsx)("div",{className:"section",children:Object(s.jsx)("div",{className:"card z-dept-0 red darken-1",children:Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("span",{className:"card-title white-text",children:Object(s.jsx)("b",{children:"Notifications"})}),Object(s.jsx)("div",{className:"divider black",style:{padding:"3px"}}),Object(s.jsx)("ul",{className:"notifications white-text",children:t&&t.map((function(e){return Object(s.jsxs)("li",{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("b",{children:e.problem})," reported in"," ",Object(s.jsx)("b",{children:e.locality})]}),Object(s.jsx)("div",{className:"grey-text note-date",children:z()(e.time.toDate()).fromNow()})]},e.id)}))})]})})})},Y=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){var e=this.props,t=e.issues,c=e.notifications;return Object(s.jsx)("div",{className:"dashboard ",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col s12 m6 offset-m1",children:Object(s.jsx)(B,{issues:t})}),Object(s.jsx)("div",{className:"col s12 m3 offset-m1",children:Object(s.jsx)(W,{notifications:c})}),Object(s.jsx)("div",{className:"col m1"})]})})}}]),c}(l.Component),M=Object(C.d)(Object(h.b)((function(e){return{issues:e.firestore.ordered.issues,notifications:e.firestore.ordered.notifications}})),Object(D.firestoreConnect)([{collection:"issues",orderBy:["DOR","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(Y),q=function(){return Object(s.jsx)("footer",{className:"page-footer grey darken-3",style:{paddingBottom:"10px",paddingLeft:"10px",paddingRight:"10px"},children:Object(s.jsxs)("div",{className:"row footer-copyright",children:[Object(s.jsx)("div",{className:"col s5 m5 left",children:"\xa9 2014 Copyright Text"}),Object(s.jsx)("div",{className:"col s7 m7",children:Object(s.jsx)("div",{className:"right",children:"DISCLAIMER: Data displayed here is for testing purpose only!"})})]})})},Q=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,c){(0,c.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.auth;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"btn-flat white grey-text text-darken-4 waves-effect waves-light",href:"/",onClick:e.signOut,children:"Logout"})}),Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"#",className:"btn btn-floating red darken-2",children:t.phoneNumber[3]})})]})})),J=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"/home",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"/about",children:"About"})}),Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"/report",children:"Report"})})]})},K=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,c){(0,c.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.auth;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"/admin/authority",children:"Authority"})}),Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"/admin/category",children:"Category"})}),Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"/admin/issues",children:"Issues"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"btn-flat white grey-text text-darken-4 waves-effect waves-light",href:"/adminlogin",onClick:e.signOut,children:"Logout"})}),Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"#",className:"btn btn-floating red darken-2",children:t.email[0].toUpperCase()})})]})})),Z=c.p+"static/media/Background.d4db18d3.png",X=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,c){(0,c.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.auth;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"btn-flat white grey-text text-darken-4 waves-effect waves-light",href:"/authoritylogin",onClick:e.signOut,children:"Logout"})}),Object(s.jsx)("li",{children:Object(s.jsx)(G.c,{to:"#",className:"btn btn-floating red darken-2",children:t.email[0].toUpperCase()})})]})})),$=Object(h.b)((function(e){return{auth:e.firebase.auth}}))(Object(O.g)((function(e){var t=e.location.pathname.slice(1).toUpperCase(),c=e.auth,a=c.uid&&"project.test.mail.19@gmail.com"===c.email?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(J,{}),Object(s.jsx)(K,{})]}):c.email?Object(s.jsx)(X,{}):c.uid?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(J,{}),Object(s.jsx)(Q,{})]}):Object(s.jsx)(J,{});return Object(s.jsx)("div",{children:Object(s.jsx)("div",{style:{paddingBottom:"2vh"},children:Object(s.jsx)("nav",{role:"navigation",style:{backgroundImage:"url(".concat(Z,")"),backgroundPosition:"center",backgroundSize:"cover",height:"40vh"},className:"white",children:Object(s.jsxs)("div",{className:"nav-wrapper container",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("ul",{className:"hide-on-med-and-down",children:[Object(s.jsx)("span",{className:"left",children:Object(s.jsx)("li",{children:Object(s.jsx)("h5",{children:"PIGLET"})})}),Object(s.jsx)("span",{className:"right",children:a})]}),Object(s.jsxs)("ul",{id:"nav-mobile",className:"sidenav",children:[Object(s.jsx)("li",{children:Object(s.jsx)("h4",{className:"deep-orange-text text-accent-3",children:"PIGLET"})}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"left",children:a})]}),Object(s.jsx)("a",{href:"!#","data-target":"nav-mobile",className:"sidenav-trigger",children:Object(s.jsx)("div",{children:Object(s.jsx)("span",{children:Object(s.jsxs)("div",{style:{fontSize:"20px"},children:[Object(s.jsx)("i",{className:"material-icons left",children:"menu"}),"PIGLET"]})})})})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{style:{paddingTop:"20px",fontFamily:"Ropa Sans"},className:"center",children:[Object(s.jsx)("h1",{children:t?"ISSUES"===t.slice(0,6)?"ISSUES":t:"REPORT"}),Object(s.jsx)("div",{className:"divider red darken-2",style:{padding:"5px"}})]})]})})})})}))),ee=Object(C.d)(Object(h.b)((function(e,t){var c=t.match.params.id,s=e.firestore.data.issues;return{issue:s?s[c]:null}})),Object(D.firestoreConnect)([{collection:"issues"}]))((function(e){var t=e.issue;return t?Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"container section issue-details",children:Object(s.jsx)("div",{className:"col s12 l6 offset-l3",children:Object(s.jsx)("div",{className:"card z-depth-2",children:Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("h3",{children:t.Category.toUpperCase()}),Object(s.jsx)("div",{className:"divider red darken-2",style:{padding:"3px"}}),Object(s.jsx)("br",{}),Object(s.jsx)(N,{center:t.Location}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("div",{className:"col s12 m6",children:Object(s.jsxs)("h5",{children:[Object(s.jsx)("b",{children:"Issue"}),": ",t.Type]})}),Object(s.jsx)("div",{className:"col s12 m6",children:Object(s.jsxs)("h5",{children:[" ",Object(s.jsx)("b",{children:"Locality"}),": ",t.Locality]})})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("div",{className:"col s12 m6",children:Object(s.jsxs)("h5",{children:[" ",Object(s.jsx)("b",{children:"Date of Closure"}),":"," ","-"!==t.DOC?z()(t.DOC.toDate()).calendar():"-"]})}),Object(s.jsx)("div",{className:"col s12 m6",children:Object(s.jsxs)("h5",{children:[" ",Object(s.jsx)("b",{children:"Status"}),": ",t.Status]})})]})}),Object(s.jsx)("div",{className:"input-field center",children:Object(s.jsx)(G.b,{to:"/home",children:Object(s.jsx)("button",{className:"btn-floating btn-large waves-effect waves-light teal lighten-1 center",children:Object(s.jsx)("i",{className:"material-icons",children:"done"})})})}),Object(s.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Reported Date:"})," ","\xa0\xa0",z()(t.DOR.toDate()).calendar()]})})]})})})})}):Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"indeterminate"})})})),te=(c(68),c(5)),ce=c.n(te),se=function(e){var t=e.issues,c=0,a=t&&t.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:["\xa0\xa0"," ",++c]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",e.Category]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",e.Type]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",e.Locality]}),Object(s.jsxs)("td",{children:["\xa0\xa0",new Date(1e3*e.DOR.seconds).toLocaleDateString("en-US")]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",e.Status]}),Object(s.jsxs)("td",{children:["\xa0\xa0","-"!==e.DOC?new Date(1e3*e.DOC.seconds).toLocaleDateString("en-US"):"-"]}),Object(s.jsx)("td",{className:"center",children:Object(s.jsx)("button",{className:"btn waves-effect waves-red red",value:e.Status,onClick:function(){return n(e.id)},children:"Delete"})})]},c)})),n=function(e){var c=t.filter((function(t){return t.id===e}))[0].id;ce.a.firestore().collection("issues").doc(c).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}));var s=t.filter((function(t){return t.id!==e}));t=s};return Object(s.jsx)("div",{children:Object(s.jsxs)("table",{className:"highlight responsive-table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Sl No"}),Object(s.jsx)("th",{children:"Issue Category"}),Object(s.jsx)("th",{className:"center",children:"Issue Type"}),Object(s.jsx)("th",{className:"center",children:"Location"}),Object(s.jsx)("th",{children:"Date of Reporting"}),Object(s.jsx)("th",{className:"center",children:"Status"}),Object(s.jsx)("th",{children:"Date of Closure"}),Object(s.jsx)("th",{className:"center",children:"Action"})]})}),Object(s.jsx)("tbody",{children:a})]})})},ae=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={issues:[]},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this.props.issues;return Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col s12 m10 offset-m1",children:[Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)(se,{issues:e})]})})}}]),c}(l.Component),ne=Object(C.d)(Object(h.b)((function(e){return{issues:e.firestore.ordered.issues,auth:e.firebase.auth}})),Object(D.firestoreConnect)([{collection:"issues"}]))(ae),ie=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={"data-icon":null,Cid:"",label:"",value:"",clickedID:""},e.clickHandler=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.categories,c=0,a=t&&t.map((function(t){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",++c]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",t.Cid]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",t.label]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",t.value]}),Object(s.jsx)("td",{className:"center",children:Object(s.jsx)("button",{className:"btn-floating waves-effect waves-red red",value:"Delete",onClick:function(){return n(t.id)},children:Object(s.jsx)("i",{className:"material-icons",children:"clear"})})}),Object(s.jsx)("td",{className:"center",children:Object(s.jsx)("button",{"data-target":"modalEdit",className:"btn-flat waves-effect waves-light green-text modal-trigger",value:"Edit",onClick:function(){return e.setState({clickedID:t.id,Cid:t.Cid,label:t.label,value:t.value})},children:Object(s.jsx)("i",{className:"material-icons",children:"edit"})})})]},c)})),n=function(e){var c=t.filter((function(t){return t.id===e}))[0].id;ce.a.firestore().collection("dropdownList").doc(c).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}));var s=t.filter((function(t){return t.id!==e}));t=s};return Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsxs)("table",{className:"highlight responsive-table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"center",children:"Sl No"}),Object(s.jsx)("th",{className:"center",children:"ID"}),Object(s.jsx)("th",{className:"center",children:"Label"}),Object(s.jsx)("th",{className:"center",children:"Value"}),Object(s.jsx)("th",{className:"center red-text",children:"Delete"}),Object(s.jsx)("th",{className:"center green-text",children:"Edit"})]})}),Object(s.jsx)("tbody",{children:a})]}),Object(s.jsx)("div",{id:"modalEdit",className:"modal",children:Object(s.jsx)("div",{className:"modal-content",children:Object(s.jsxs)("form",{onSubmit:function(c){return function(c){c.preventDefault();var s={Cid:"",label:"",value:""};s.Cid=e.state.Cid,s.label=e.state.label,s.value=e.state.value;var a=t.filter((function(t){return t.id===e.state.clickedID}))[0].id;ce.a.firestore().collection("dropdownList").doc(a).update({Cid:e.state.Cid,label:e.state.label,value:e.state.value}).then((function(){console.log("Document successfully edited!")})).catch((function(e){console.error("Error updating document: ",e)}));var n=t.filter((function(e){return e.id!==c}));t=n}(c)},children:[Object(s.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Edit Category Details"}),Object(s.jsx)("div",{className:"divider red accent-3"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"Cid",placeholder:this.state.Cid,type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"id",className:"black-text",children:"ID"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"label",placeholder:this.state.label,type:"text",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"label",className:"black-text",children:"Label"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"value",placeholder:this.state.value,type:"tel",className:"validate",maxLength:10,onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"value",className:"black-text",children:"Value"})]})]}),Object(s.jsx)("div",{className:"modal-footer grey lighten-4",children:Object(s.jsx)("div",{className:"center",children:Object(s.jsxs)("button",{className:"btn waves-effect waves-light modal-close",type:"submit",name:"action",children:["Submit",Object(s.jsx)("i",{className:"material-icons right",children:"send"})]})})})]})})})]})}}]),c}(l.Component),re=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={"data-icon":null,Cid:"",label:"",value:""},e.clickHandler=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.submitHandler=function(t){t.preventDefault(),e.props.addDropdown(e.state)},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.dropdown;return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col m1",children:Object(s.jsxs)("div",{style:{paddingTop:"5px",paddingBottom:"5px"},children:[Object(s.jsx)("button",{"data-target":"modalAdd",className:"btn-floating btn-large waves-effect waves-light red modal-trigger",children:Object(s.jsx)("i",{className:"material-icons",children:"add"})}),Object(s.jsx)("div",{id:"modalAdd",className:"modal",children:Object(s.jsx)("div",{className:"modal-content",children:Object(s.jsxs)("form",{onSubmit:function(t){return e.submitHandler(t)},children:[Object(s.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Add Category"}),Object(s.jsx)("div",{className:"divider red accent-3"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"Cid",type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"id",className:"black-text",children:"ID"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"label",type:"text",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"label",className:"black-text",children:"Label"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"value",type:"text",className:"validate",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"value",className:"black-text",children:"Value"})]})]}),Object(s.jsx)("div",{className:"modal-footer grey lighten-4",children:Object(s.jsx)("div",{className:"center",children:Object(s.jsxs)("button",{className:"btn waves-effect waves-light modal-close",type:"submit",name:"action",children:["ADD",Object(s.jsx)("i",{className:"material-icons right",children:"send"})]})})})]})})})]})}),Object(s.jsxs)("div",{className:"col s12 m10",children:[Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)(ie,{categories:t})]})]})}}]),c}(l.Component),le=Object(C.d)(Object(h.b)((function(e){return console.log(e),{dropdown:e.firestore.ordered.dropdownList,auth:e.firebase.auth}}),(function(e){return{addDropdown:function(t){return e((c=t,function(e,t,s){s.getFirebase,(0,s.getFirestore)().collection("dropdownList").add(Object(k.a)({},c)).then((function(){e({type:"ADD_DROPDOWN",dropdown:c})})).catch((function(t){e({type:"ADD_DROPDOWN_ERROR",err:t})}))}));var c}}})),Object(D.firestoreConnect)([{collection:"dropdownList"}]))(re),de={id:"",name:"",email:"",phone:"",password:"",locality:""},oe=function(e){var t=0,c=e.authorities,a=c&&c.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",++t]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.name]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.email]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.phone]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.password]}),Object(s.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.locality]}),Object(s.jsx)("td",{className:"center",children:Object(s.jsx)("button",{className:"btn-floating waves-effect waves-red red",value:"Delete",onClick:function(){return n(e.id)},children:Object(s.jsx)("i",{className:"material-icons",children:"clear"})})}),Object(s.jsx)("td",{className:"center",children:Object(s.jsx)("button",{"data-target":"modalEdit",className:"btn-flat waves-effect waves-light green-text modal-trigger",value:"Edit",onClick:function(){de=e},children:Object(s.jsx)("i",{className:"material-icons",children:"edit"})})})]},t)})),n=function(e){var t=c.filter((function(t){return t.id===e}))[0].id;ce.a.firestore().collection("authority").doc(t).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}));var s=c.filter((function(t){return t.id!==e}));c=s};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("table",{className:"highlight responsive-table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"center",children:"Sl No"}),Object(s.jsx)("th",{className:"center",children:"Name"}),Object(s.jsx)("th",{className:"center",children:"Email"}),Object(s.jsx)("th",{className:"center",children:"Phone"}),Object(s.jsx)("th",{className:"center",children:"Password"}),Object(s.jsx)("th",{className:"center",children:"Locality"}),Object(s.jsx)("th",{className:"center red-text",children:"Delete"}),Object(s.jsx)("th",{className:"center green-text",children:"Edit"})]})}),Object(s.jsx)("tbody",{children:a})]}),Object(s.jsx)("div",{id:"modalEdit",className:"modal",children:Object(s.jsx)("div",{className:"modal-content",children:Object(s.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(de);var t=c.filter((function(e){return e.id===de.id})),s=t[0].id;ce.a.firestore().collection("authority").doc(s).update({name:t[0].name,email:t[0].email,phone:t[0].phone,password:t[0].password,locality:t[0].locality}).then((function(){console.log("Document successfully edited!")})).catch((function(e){console.error("Error updating document: ",e)}));var a=c.filter((function(t){return t.id!==e}));c=a}(e)},children:[Object(s.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Edit Authority Details"}),Object(s.jsx)("div",{className:"divider red accent-3"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"container blue-grey-text text-darken-4",children:[Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"name",placeholder:de.name,type:"text",className:"validate","data-length":"20",onChange:function(e){return de.name=e.value}}),Object(s.jsx)("label",{htmlFor:"name",className:"black-text",children:"Name"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"email",placeholder:de.email,type:"email",className:"validate","data-length":"30",onChange:function(e){return de.email=e.value}}),Object(s.jsx)("label",{htmlFor:"email",className:"black-text",children:"Email"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"phone",placeholder:de.phone,type:"tel",className:"validate",maxLength:10,onChange:function(e){return de.phone=e.value}}),Object(s.jsx)("label",{htmlFor:"phone",className:"black-text",children:"Phone"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"password",type:"password",className:"validate","data-length":"30",onChange:function(e){return de.password=e.value}}),Object(s.jsx)("label",{htmlFor:"password",className:"black-text",children:"Password"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"locality",placeholder:de.locality,type:"text",className:"validate","data-length":"20",onChange:function(e){return de.locality=e.value}}),Object(s.jsx)("label",{htmlFor:"locality",className:"black-text",children:"Locality"})]})]}),Object(s.jsx)("div",{className:"modal-footer grey lighten-4",children:Object(s.jsx)("div",{className:"center",children:Object(s.jsxs)("button",{className:"btn waves-effect waves-light modal-close",type:"submit",name:"action",children:["Submit",Object(s.jsx)("i",{className:"material-icons right",children:"send"})]})})})]})})})]})},je=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={name:"",email:"",phone:"",password:"",locality:""},e.clickHandler=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.submitHandler=function(t){t.preventDefault(),e.props.addAuthority(e.state)},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.authorities,a=t.authError;return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col m1",children:Object(s.jsxs)("div",{style:{paddingTop:"5px",paddingBottom:"5px"},children:[Object(s.jsx)("button",{"data-target":"modalAdd",className:"btn-floating btn-large waves-effect waves-light red modal-trigger",children:Object(s.jsx)("i",{className:"material-icons",children:"add"})}),Object(s.jsx)("div",{id:"modalAdd",className:"modal",children:Object(s.jsx)("div",{className:"modal-content",children:Object(s.jsxs)("form",{onSubmit:function(t){return e.submitHandler(t)},children:[Object(s.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Add Authority"}),Object(s.jsx)("div",{className:"divider red accent-3"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"name",type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"name",className:"black-text",children:"Name"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"email",type:"email",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"email",className:"black-text",children:"Email"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"phone",type:"tel",className:"validate",maxLength:10,onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"phone",className:"black-text",children:"Phone"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"password",type:"password",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"password",className:"black-text",children:"Password"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"locality",type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(s.jsx)("label",{htmlFor:"locality",className:"black-text",children:"Locality"})]})]}),Object(s.jsxs)("div",{className:"modal-footer grey lighten-4",children:[Object(s.jsx)("div",{className:"center",children:Object(s.jsxs)("button",{className:"btn waves-effect waves-light modal-close",type:"submit",name:"action",children:["Submit",Object(s.jsx)("i",{className:"material-icons right",children:"send"})]})}),Object(s.jsx)("div",{className:"red-text center",children:a?Object(s.jsx)("h5",{children:a}):null})]})]})})})]})}),Object(s.jsxs)("div",{className:"col s12 m10",children:[Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)(oe,{authorities:c})]})]})}}]),c}(l.Component),be=Object(C.d)(Object(h.b)((function(e){return{authorities:e.firestore.ordered.authority,auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{addAuthority:function(t){return e(function(e){return function(t,c,s){var a=s.getFirebase,n=s.getFirestore,i=a(),r=n();i.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return r.collection("authority").doc(t.user.uid).set({locality:e.locality,name:e.name,phone:e.phone,email:e.email,password:e.password})})).then((function(){t({type:"ADD_AUTHORITY_SUCCESS",authority:e})})).catch((function(e){t({type:"ADD_AUTHORITY_ERROR",err:e})}))}}(t))}}})),Object(D.firestoreConnect)([{collection:"authority"}]))(je),ue=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(a.a)(this,c);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.submitHandler=function(t){t.preventDefault(),e.props.signIn(e.state),e.props.history.push("/authorityhome")},e.inputHandler=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.authError;return Object(s.jsx)("div",{className:"container",style:{height:"42.5vh"},children:Object(s.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(s.jsx)("h5",{className:"blye-grey-text text-darken-4",children:"Sign In"}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"email",type:"email",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(s.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",{id:"password",type:"password",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(s.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("button",{type:"submit",className:"btn teal lighten-2 z-depth-2",children:"Login"}),Object(s.jsx)("div",{className:"red-text center",children:t?Object(s.jsx)("p",{children:t}):null})]})]})})}}]),c}(l.Component),he=Object(h.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signIn:function(t){return e(m(t))}}}))(Object(O.g)(ue)),me=function(e){var t=e.issues,c=0,a=t&&t.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:["\xa0\xa0"," ",++c]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",e.Category]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",e.Type]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",e.Locality]}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ",new Date(1e3*e.DOR.seconds).toLocaleDateString("en-US")]}),Object(s.jsx)("td",{className:"center",children:Object(s.jsx)("button",{className:"Resolved"===e.Status?"btn waves-effect waves-teal":"btn waves-effect waves-red red",value:e.Status,onClick:function(){return n(e.id)},children:e.Status})}),Object(s.jsxs)("td",{children:["\xa0\xa0"," ","-"!==e.DOC?new Date(1e3*e.DOC.seconds).toLocaleDateString("en-US"):"-"]})]},c)})),n=function(e){var c=t.filter((function(t){return t.id===e})),s=t.filter((function(t){return t.id!==e}));c[0].Status="Resolved";var a=new Date,n=(a.getDate()<10?"0"+a.getDate():a.getDate())+"/"+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"/"+a.getFullYear();c[0].DOC=n,ce.a.firestore().collection("issues").doc(e).update({DOC:new Date,Status:"Resolved"}),s.push(c[0]),t=s};return Object(s.jsx)("div",{children:Object(s.jsxs)("table",{className:"highlight responsive-table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Sl No"}),Object(s.jsx)("th",{children:"Issue Category"}),Object(s.jsx)("th",{className:"center",children:"Issue Type"}),Object(s.jsx)("th",{className:"center",children:"Location"}),Object(s.jsx)("th",{children:"Date of Reporting"}),Object(s.jsx)("th",{className:"center",children:"Status"}),Object(s.jsx)("th",{children:"Date of Closure"})]})}),Object(s.jsx)("tbody",{children:a})]})})},Oe=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){var e=this.props.issues;return Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col s12 m10 offset-m1",children:[Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)(me,{issues:e})]})})}}]),c}(l.Component),xe=Object(C.d)(Object(h.b)((function(e){return{issues:e.firestore.ordered.issues}})),Object(D.firestoreConnect)([{collection:"issues"}]))(Oe),pe=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return Object(s.jsx)(G.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)($,{}),Object(s.jsxs)(O.d,{children:[Object(s.jsx)(O.b,{exact:!0,path:"/",component:b}),Object(s.jsx)(O.b,{path:"/about",component:T}),Object(s.jsx)(O.b,{path:"/home",component:M}),Object(s.jsx)(O.b,{path:"/report",component:F}),Object(s.jsx)(O.b,{path:"/adminlogin",component:p}),Object(s.jsx)(O.b,{path:"/issues/:id",component:ee}),Object(s.jsx)(O.b,{path:"/admin/issues",component:ne}),Object(s.jsx)(O.b,{path:"/admin/category",component:le}),Object(s.jsx)(O.b,{path:"/admin/authority",component:be}),Object(s.jsx)(O.b,{path:"/authoritylogin",component:he}),Object(s.jsx)(O.b,{path:"/authorityhome",component:xe})]}),Object(s.jsx)(q,{})]})})}}]),c}(l.Component),fe=c(231),ve=c(20),ge=c.n(ve);c(144);ce.a.initializeApp({apiKey:"AIzaSyCKaJkKducJ0FQEfHgX9XpNNU4cYGqwjlw",authDomain:"project-piglet-909a2.firebaseapp.com",projectId:"project-piglet-909a2",storageBucket:"project-piglet-909a2.appspot.com",messagingSenderId:"245194952075",appId:"1:245194952075:web:7fa1e82734200f3d64738e"}),ce.a.firestore();var Ne=ce.a,ye=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,461)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))},we={authError:null},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("Login error"),Object(k.a)(Object(k.a)({},e),{},{authError:"Login Failed"});case"LOGIN_SUCCESS":return console.log("Login success"),Object(k.a)(Object(k.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("Signout Success"),e;case"ADD_AUTHORITY_SUCCESS":return console.log("add authority Success"),Object(k.a)(Object(k.a)({},e),{},{authError:null});case"ADD_AUTHORITY_ERROR":return console.log("add authority error"),Object(k.a)(Object(k.a)({},e),{},{authError:t.err.message});default:return e}},Se={issues:[]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ISSUE":return console.log("Issue added",t.issue),e;case"CREATE_ISSUE_ERROR":return console.log("Issue add error",t.err),e;default:return e}},ke={category:[]},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DROPDOWN":return console.log("dropdown added",t.issue),e;case"ADD_DROPDOWN_ERROR":return console.log("add dropdown error",t.err),e;default:return e}},Ee=c(69),Le=Object(C.c)({auth:Ce,issue:De,category:Ie,firestore:Ee.firestoreReducer,firebase:D.firebaseReducer}),Re=Object(C.e)(Le,Object(C.d)(Object(C.a)(fe.a.withExtraArgument({getFirebase:D.getFirebase,getFirestore:Ee.getFirestore})),Object(Ee.reduxFirestore)(Ne),Object(D.reactReduxFirebase)(Ne,{userFirestoreForProfile:!0,userProfile:"authority",attachAuthIsReady:!0})));Re.firebaseAuthIsReady.then(ge.a.render(Object(s.jsx)(h.a,{store:Re,children:Object(s.jsx)(pe,{})}),document.getElementById("root"))),ye()}},[[460,1,2]]]);
//# sourceMappingURL=main.467b998b.chunk.js.map