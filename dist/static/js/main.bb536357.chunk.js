(this.webpackJsonppiglet=this.webpackJsonppiglet||[]).push([[0],{226:function(e,t,c){},434:function(e,t,c){"use strict";c.r(t);var a=c(0),s=(c(226),c(7)),n=c(8),i=c(11),r=c(10),l=c(1),o=c(92),d=c(139),j=c.n(d),u=c(9),b=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"componentDidMount",value:function(){var e=this.props.auth,t={signInSuccessUrl:"/home",signInOptions:[{provider:j.a.auth.PhoneAuthProvider.PROVIDER_ID,defaultCountry:"IN"}],tosUrl:"/home"};o.a.AuthUI.getInstance()?(o.a.AuthUI.getInstance().start("#firebaseui-auth-container",t),e.uid?this.props.history.push("/home"):e.uid||this.props.history.push("/")):new o.a.AuthUI(j.a.auth()).start("#firebaseui-auth-container",t)}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"center",children:Object(a.jsx)("h3",{children:"Small verification before reporting!"})}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{id:"firebaseui-auth-container"}),Object(a.jsx)("br",{})]})]})}}]),c}(l.Component),h=Object(u.b)((function(e){return{auth:e.firebase.auth}}))(b),m=c(25),O=c(15),x=function(e){return function(t,c,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",err:e})}))}},p=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.submitHandler=function(t){"project.test.mail.19@gmail.com"===e.state.email?(t.preventDefault(),e.props.signIn(e.state)):alert("Invalid admin credentials!")},e.inputHandler=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.authError;return Object(a.jsx)("div",{className:"container signInForm",children:Object(a.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(a.jsx)("h5",{className:"blye-grey-text text-darken-4",children:"Sign In"}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"email",type:"email",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(a.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"password",type:"password",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("button",{type:"submit",className:"btn teal lighten-2 z-depth-2",children:"Login"}),Object(a.jsx)("div",{className:"red-text center",children:t?Object(a.jsx)("p",{children:t}):null})]})]})})}}]),c}(l.Component),f=Object(u.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e(x(t))}}}))(Object(O.g)(p)),v=c(223),g=function(e){var t=e.color,c=e.name;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:c}),Object(a.jsx)("div",{className:"pulse"})]})},N=function(){return{disableDefaultUI:!0,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},y=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={center:{lat:null,lng:null},zoom:20},e.location=function(){e.props.center?e.setState({center:e.props.center}):navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.setState({center:{lat:t.coords.latitude,lng:t.coords.longitude}})}))},e}return Object(n.a)(c,[{key:"UNSAFE_componentWillMount",value:function(){this.location()}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"mapSize",children:Object(a.jsx)(v.a,{bootstrapURLKeys:{key:"AIzaSyAbIuPIQlI4AukyWuZOgHp4I5lammFppv8"},center:this.state.center,defaultZoom:this.state.zoom,options:N,children:Object(a.jsx)(g,{lat:this.state.center.lat,lng:this.state.center.lng,name:"My Location",color:"red"})})})}}]),c}(l.Component),w=c(14),C=c(222),D=c(17),S=c(26),k="pk.eyJ1IjoidmlwaW5yYmhhcmFkd2FqIiwiYSI6ImNrY3VvZGQ0MzJhNHYyeHM2a21uNGEzZm4ifQ.53CYrj7PS_gUiv8iqESrXQ",I=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={Category:"Select Category",Type:null,Location:{lat:null,lng:null},Number:e.props.number,Status:"Reported",DOC:"-"},e.get_data=function(t,c){fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+c+", "+t+".json?access_token="+k).then((function(e){return e.json()})).then((function(t){var c="Your Location: "+t.features[1].text;window.M.toast({html:c,options:{displayLength:100}}),e.setState({Locality:t.features[1].text})})).catch((function(e){console.log(e)}))},e.addData=function(t){t&&e.setState({Category:t.Cid,Type:t.value})},e.clickHandler=function(t){t&&e.setState(Object(m.a)({},t.target.id,t.target.value))},e.submitHandler=function(t){t.preventDefault(),"Select Category"!==e.state.Category?(e.props.addIssue(e.state),e.props.history.push("/home")):alert("Please select the issue!")},e}return Object(n.a)(c,[{key:"UNSAFE_componentWillMount",value:function(){this.getLocation()}},{key:"getLocation",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.setState({Location:{lat:t.coords.latitude,lng:t.coords.longitude}}),e.get_data(t.coords.latitude,t.coords.longitude)})):alert("Sorry, browser does not support geolocation!")}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("form",{onSubmit:function(t){return e.submitHandler(t)},onReset:this.resetHandler,children:[Object(a.jsxs)("h3",{className:"center cyan-text text-darken-3",children:["Fill in the details",Object(a.jsx)("i",{className:"material-icons small",children:"article"})]}),Object(a.jsx)("br",{})," ",Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{className:"reportLabel",children:"What is the problem?"}),Object(a.jsx)("i",{className:"material-icons left",children:"search"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"input-field",children:Object(a.jsx)(C.a,{isClearable:!0,options:this.props.CategoryList,onChange:function(t){return e.addData(t)},maxMenuHeight:160})})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("i",{className:"material-icons prefix",children:"phone"}),Object(a.jsx)("input",{id:"Number",type:"number"}),Object(a.jsx)("label",{htmlFor:"number",children:this.state.Number})]}),Object(a.jsx)("div",{className:"formDivider"}),Object(a.jsx)("div",{className:"center formbtnAlign",children:Object(a.jsxs)("button",{disabled:!this.state.Type,className:"btn waves-effect waves-light center",type:"submit",children:[Object(a.jsx)("i",{className:"material-icons right",children:"send"}),"Submit"]})}),Object(a.jsx)("br",{})]})})}}]),c}(l.Component),E=Object(w.d)(Object(u.b)((function(e){return{CategoryList:e.firestore.ordered.dropdownList}}),(function(e){return{addIssue:function(t){return e(function(e){return function(t,c,a){a.getFirebase,(0,a.getFirestore)().collection("issues").add(Object(S.a)(Object(S.a)({},e),{},{DOR:new Date})).then((function(){t({type:"ADD_ISSUE",issue:e})})).catch((function(e){t({type:"ADD_ISSUE_ERROR",err:e})}))}}(t))}}})),Object(D.firestoreConnect)([{collection:"dropdownList",orderBy:["Cid","asc"]}]))(Object(O.g)(I)),L=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){var e=this.props.auth;return e.uid?Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col s12 m10 offset-m1",children:[Object(a.jsx)(y,{}),Object(a.jsxs)("div",{className:"card-panel hoverable",children:[Object(a.jsx)("br",{}),Object(a.jsx)(E,{number:e.phoneNumber})]}),Object(a.jsx)("br",{})]})}):Object(a.jsx)(O.a,{to:"/"})}}]),c}(l.Component),R=Object(u.b)((function(e){return{auth:e.firebase.auth}}))(L),A=function(e){var t=e.people,c=e.content,s=t.map((function(e){var t=Object(a.jsx)("div",{children:Object(a.jsxs)("h5",{className:"deep-orange-text text-accent-3",children:[e.name,Object(a.jsx)("i",{className:"material-icons black-text right",children:"keyboard_arrow_up"})]})});return Object(a.jsx)("div",{className:"col s12 m4",children:Object(a.jsx)("div",{className:"icon-block",children:Object(a.jsxs)("div",{className:"card z-depth-5 cardImage",children:[Object(a.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(a.jsx)("img",{className:"activator",src:e.img,alt:e.name})}),Object(a.jsxs)("div",{className:"card-content",children:[Object(a.jsx)("span",{className:"card-title activator grey-text text-darken-4",children:Object(a.jsx)("h5",{children:t})}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{className:"paraPadding",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ullamcorper pretium ornare. In iaculis, nulla vel feugiat efficitur."}),Object(a.jsx)("div",{className:"divider"}),Object(a.jsxs)("div",{className:"cardSpacing",children:[Object(a.jsx)("span",{className:"left blue-text",children:Object(a.jsx)("div",{className:"center",children:e.phone})}),Object(a.jsx)("span",{className:"right blue-greytext text-darken-4",children:Object(a.jsx)("div",{className:"center",children:e.emailId})}),Object(a.jsx)("br",{})]})]}),Object(a.jsxs)("div",{className:"card-reveal",children:[Object(a.jsx)("span",{className:"card-title grey-text text-darken-4",children:Object(a.jsxs)("h5",{className:"deep-orange-text text-accent-3",children:[e.name,Object(a.jsx)("i",{className:"material-icons black-text right",children:"keyboard_arrow_down"})]})}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:c})]})]})})},e.id)}));return Object(a.jsx)("div",{children:s})},F=c.p+"static/media/Vipin.b2ac999c.jpg",H=c.p+"static/media/Vishak.02ccc864.jpg",U=c.p+"static/media/Vivek.c7a2b586.jpeg",_=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={people:[{id:1,img:F,name:"Vipin R Bharadwaj",phone:"+91 9900112800",emailId:"vipinr.is17@bmsce.ac.in"},{id:2,img:H,name:"Vishak LV",phone:"+91 8310380647",emailId:"vishak.is17@bmsce.ac.in"},{id:3,img:U,name:"Vivek V",phone:"+91 8095739921",emailId:"vivek.is17@bmsce.ac.in"}],content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ullamcorper pretium ornare. In iaculis, nulla vel feugiat efficitur, diam ex facilisis tortor, sit amet rutrum neque ligula quis diam. Vivamus vel lorem eu nibh interdum pulvinar ac in dolor. Sed orci libero, commodo vulputate laoreet id, blandit gravida libero. Nunc metus metus, vehicula nec cursus eu, pellentesque vel enim. Duis ornare risus est, sit amet dictum nibh porta sed."},e}return Object(n.a)(c,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("main",{className:"container",children:Object(a.jsx)("div",{className:"section",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(A,{people:this.state.people,content:this.state.content})})})})]})}}]),c}(l.Component),P=c(38),T=c.n(P),Y=function(e){var t=e.issue;return Object(a.jsx)("div",{className:"col s12 m6",children:Object(a.jsx)("div",{className:"card z-depth-1 hoverable",children:Object(a.jsxs)("div",{className:"card-content blue-grey-text text-darken-4",children:[Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"card-title cardTitleHeight flow-text",children:Object(a.jsx)("b",{children:t.Type})})}),Object(a.jsx)("div",{className:"divider red accent-3 dividerPadding"}),Object(a.jsxs)("div",{className:"card-content",style:{height:"fit-content"},children:[Object(a.jsx)("p",{children:t.Category}),Object(a.jsx)("p",{children:t.Locality}),Object(a.jsx)("p",{children:t.Status}),Object(a.jsx)("p",{children:"-"!==t.DOC?T()(t.DOC.toDate()).calendar():"-"})]}),Object(a.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(a.jsx)("div",{children:T()(t.DOR.toDate()).calendar()})})]})})})},z=c(12),G=function(e){var t=e.issues,c=1,s=t&&0!==t.length?t.map((function(e){return Object(a.jsx)(z.b,{to:"/issues/"+e.id,children:Object(a.jsx)(Y,{issue:e})},c++)})):Object(a.jsx)("div",{className:"progress",children:Object(a.jsx)("div",{className:"indeterminate"})});return Object(a.jsx)("div",{className:"issue-list section",children:Object(a.jsx)("div",{className:"row",children:s})})},M=function(e){var t=e.notifications;return Object(a.jsx)("div",{className:"section",children:Object(a.jsx)("div",{className:"card z-dept-0 red darken-1",children:Object(a.jsxs)("div",{className:"card-content",children:[Object(a.jsx)("span",{className:"card-title white-text",children:Object(a.jsx)("b",{children:"Notifications"})}),Object(a.jsx)("div",{className:"divider black"}),Object(a.jsx)("ul",{className:"notifications white-text",children:t&&t.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("b",{children:e.problem})," reported in"," ",Object(a.jsx)("b",{children:e.locality})]}),Object(a.jsx)("div",{className:"grey-text note-date",children:T()(e.time.toDate()).fromNow()})]},e.id)}))})]})})})},V=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).locality="",e}return Object(n.a)(c,[{key:"componentWillMount",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var c="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t.coords.longitude+", "+t.coords.latitude+".json?access_token=pk.eyJ1IjoidmlwaW5yYmhhcmFkd2FqIiwiYSI6ImNrY3VvZGQ0MzJhNHYyeHM2a21uNGEzZm4ifQ.53CYrj7PS_gUiv8iqESrXQ";fetch(c).then((function(e){return e.json()})).then((function(t){e.locality=t.features[1].text})).catch((function(e){console.log(e)}))}))}},{key:"render",value:function(){var e=this,t=this.props,c=t.issues,s=t.notifications;return Object(a.jsx)("div",{className:"dashboard",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col s12 m6 offset-m1",children:Object(a.jsx)("div",{className:"scrollable",children:Object(a.jsx)(G,{issues:c&&c.filter((function(t){return t.Locality===e.locality})).slice(0,10)})})}),Object(a.jsx)("div",{className:"col s12 m3 offset-m1",children:Object(a.jsx)(M,{notifications:s})}),Object(a.jsx)("div",{className:"col m1"})]})})}}]),c}(l.Component),W=Object(w.d)(Object(u.b)((function(e){return{issues:e.firestore.ordered.issues,notifications:e.firestore.ordered.notifications,auth:e.firebase.auth}})),Object(D.firestoreConnect)([{collection:"issues",orderBy:["DOR","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(V),B=function(){return Object(a.jsx)("footer",{className:"page-footer grey darken-3 footerSpacing",children:Object(a.jsxs)("div",{className:"row footer-copyright",children:[Object(a.jsx)("div",{className:"col s5 m5 left",children:"\xa9 2014 Copyright Text"}),Object(a.jsx)("div",{className:"col s7 m7",children:Object(a.jsx)("div",{className:"right",children:"DISCLAIMER: Data displayed here is for testing purpose only!"})})]})})},q=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"/home",children:"Home"})}),Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"/about",children:"About"})}),Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"/report",children:"Report"})})]})},Q=Object(u.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,c){(0,c.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.auth;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"#",className:"btn btn-floating red darken-2",children:t.email[0].toUpperCase()})}),Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"/admin/authority",children:"Authority"})}),Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"/admin/category",children:"Category"})}),Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"/admin/issues",children:"Issues"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"btn-flat white grey-text text-darken-4 waves-effect waves-light",href:"/adminlogin",onClick:e.signOut,children:"Logout"})})]})})),J=Object(u.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,c){(0,c.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.auth;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{className:"btn-flat white grey-text text-darken-4 waves-effect waves-light",to:"/authoritylogin",onClick:e.signOut,children:"Logout"})}),Object(a.jsx)("li",{children:Object(a.jsx)(z.c,{to:"#",className:"btn btn-floating red darken-2",children:t.email[0].toUpperCase()})})]})})),Z=Object(u.b)((function(e){return{auth:e.firebase.auth}}))(Object(O.g)((function(e){var t=e.location.pathname.slice(1).toUpperCase(),c=e.auth,s=c.uid?c.email?"project.test.mail.19@gmail.com"===c.email?Object(a.jsx)(Q,{}):Object(a.jsx)(J,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(q,{})}):Object(a.jsx)(q,{});return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"navBar",children:Object(a.jsx)("nav",{role:"navigation",className:"white navBackground",children:Object(a.jsxs)("div",{className:"nav-wrapper container",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("ul",{className:"hide-on-med-and-down",children:[Object(a.jsx)("span",{className:"left",children:Object(a.jsx)("li",{children:Object(a.jsx)("h5",{children:"PIGLET"})})}),Object(a.jsx)("span",{className:"right",children:s})]}),Object(a.jsxs)("ul",{id:"nav-mobile",className:"sidenav",children:[Object(a.jsx)("li",{children:Object(a.jsx)("h4",{className:"deep-orange-text text-accent-3 center",children:"PIGLET"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"left",children:s})]}),Object(a.jsx)("a",{href:"!#","data-target":"nav-mobile",className:"sidenav-trigger",children:Object(a.jsx)("div",{children:Object(a.jsx)("span",{children:Object(a.jsxs)("div",{className:"navMenuLogo",children:[Object(a.jsx)("i",{className:"material-icons left",children:"menu"}),"PIGLET"]})})})})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"center navCurrentPage",children:[Object(a.jsx)("h1",{children:t?"ISSUES"===t.slice(0,6)?"ISSUES":t:"REPORT"}),Object(a.jsx)("div",{className:"divider red darken-2 dividerPadding"})]})]})})})})}))),K=Object(w.d)(Object(u.b)((function(e,t){var c=t.match.params.id,a=e.firestore.data.issues;return{issue:a?a[c]:null}})),Object(D.firestoreConnect)([{collection:"issues"}]))((function(e){var t=e.issue;return t?Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"section issue-details",children:Object(a.jsx)("div",{className:"col s12 l6 offset-l3",children:Object(a.jsx)("div",{className:"card z-depth-2",children:Object(a.jsxs)("div",{className:"card-content",children:[Object(a.jsx)("h3",{children:t.Category.toUpperCase()}),Object(a.jsx)("div",{className:"divider red darken-2 dividerPadding"}),Object(a.jsx)("br",{}),Object(a.jsx)(y,{center:t.Location}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("div",{className:"col s12 m6",children:Object(a.jsxs)("h5",{children:[Object(a.jsx)("b",{children:"Issue"}),": ",t.Type]})}),Object(a.jsx)("div",{className:"col s12 m6",children:Object(a.jsxs)("h5",{children:[" ",Object(a.jsx)("b",{children:"Locality"}),": ",t.Locality]})})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("div",{className:"col s12 m6",children:Object(a.jsxs)("h5",{children:[" ",Object(a.jsx)("b",{children:"Date of Closure"}),":"," ","-"!==t.DOC?T()(t.DOC.toDate()).calendar():"-"]})}),Object(a.jsx)("div",{className:"col s12 m6",children:Object(a.jsxs)("h5",{children:[" ",Object(a.jsx)("b",{children:"Status"}),": ",t.Status]})})]})}),Object(a.jsx)("div",{className:"input-field center",children:Object(a.jsx)(z.b,{to:"/home",children:Object(a.jsx)("button",{className:"btn-floating btn-large waves-effect waves-light teal lighten-1 center",children:Object(a.jsx)("i",{className:"material-icons",children:"done"})})})}),Object(a.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Reported Date:"})," ","\xa0\xa0",T()(t.DOR.toDate()).calendar()]})})]})})})})}):Object(a.jsx)("div",{className:"progress",children:Object(a.jsx)("div",{className:"indeterminate"})})})),X=(c(67),c(5)),$=c.n(X),ee=function(e){var t=e.issues,c=0,s=t&&t.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:["\xa0\xa0"," ",++c]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",e.Category]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",e.Type]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",e.Locality]}),Object(a.jsxs)("td",{children:["\xa0\xa0",new Date(1e3*e.DOR.seconds).toLocaleDateString("en-US")]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",e.Status]}),Object(a.jsxs)("td",{children:["\xa0\xa0","-"!==e.DOC?new Date(1e3*e.DOC.seconds).toLocaleDateString("en-US"):"-"]}),Object(a.jsx)("td",{className:"center",children:Object(a.jsx)("button",{className:"btn waves-effect waves-red red",value:e.Status,onClick:function(){return n(e.id)},children:"Delete"})})]},c)})),n=function(e){var c=t.filter((function(t){return t.id===e}))[0].id;$.a.firestore().collection("issues").doc(c).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}));var a=t.filter((function(t){return t.id!==e}));t=a};return Object(a.jsx)("div",{children:Object(a.jsxs)("table",{className:"highlight responsive-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Sl No"}),Object(a.jsx)("th",{children:"Issue Category"}),Object(a.jsx)("th",{className:"center",children:"Issue Type"}),Object(a.jsx)("th",{className:"center",children:"Location"}),Object(a.jsx)("th",{children:"Date of Reporting"}),Object(a.jsx)("th",{className:"center",children:"Status"}),Object(a.jsx)("th",{children:"Date of Closure"}),Object(a.jsx)("th",{className:"center",children:"Action"})]})}),Object(a.jsx)("tbody",{children:s})]})})},te=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){var e=this.props,t=e.issues;e.auth;return Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col s12 m10 offset-m1",children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"divider"}),Object(a.jsx)(ee,{issues:t})]})})}}]),c}(l.Component),ce=Object(w.d)(Object(u.b)((function(e){return{issues:e.firestore.ordered.issues,auth:e.firebase.auth}})),Object(D.firestoreConnect)([{collection:"issues",orderBy:["DOR","desc"]}]))(te),ae=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={"data-icon":null,Cid:"",label:"",value:""},e.submitHandler=function(t){t.preventDefault(),e.props.addDropdown(e.state),e.props.history.push("/admin/category")},e.clickHandler=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col s12 m8 offset-m3",children:Object(a.jsx)("div",{className:"card container",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsxs)("form",{onSubmit:function(t){return e.submitHandler(t)},children:[Object(a.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Add Category"}),Object(a.jsx)("div",{className:"divider red accent-3"}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"Cid",type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"id",className:"black-text",children:"ID"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"label",type:"text",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"label",className:"black-text",children:"Label"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"value",type:"text",className:"validate",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"value",className:"black-text",children:"Value"})]})]}),Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("button",{className:"btn waves-effect waves-light modal-close",type:"submit",name:"action",children:["ADD",Object(a.jsx)("i",{className:"material-icons right",children:"send"})]})})]})})})})})}}]),c}(l.Component),se=Object(u.b)(null,(function(e){return{addDropdown:function(t){return e((c=t,function(e,t,a){a.getFirebase,(0,a.getFirestore)().collection("dropdownList").add(Object(S.a)({},c)).then((function(){e({type:"ADD_DROPDOWN",dropdown:c})})).catch((function(t){e({type:"ADD_DROPDOWN_ERROR",err:t})}))}));var c}}}))(ae),ne=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={name:"",email:"",phone:"",password:"",locality:""},e.submitHandler=function(t){t.preventDefault(),e.props.addAuthority(e.state),e.props.history.push("/admin/authority")},e.clickHandler=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.authError;return Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col s12 m8 offset-m3",children:Object(a.jsx)("div",{className:"card container",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsxs)("form",{onSubmit:function(t){return e.submitHandler(t)},children:[Object(a.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Add Authority"}),Object(a.jsx)("div",{className:"divider red accent-3"}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"name",type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"name",className:"black-text",children:"Name"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"email",type:"email",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"email",className:"black-text",children:"Email"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"phone",type:"tel",className:"validate",maxLength:10,onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"phone",className:"black-text",children:"Phone"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"password",type:"password",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"password",className:"black-text",children:"Password"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"locality",type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"locality",className:"black-text",children:"Locality"})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"right",children:[Object(a.jsx)("button",{className:"btn waves-effect waves-light",onClick:this.props.history.push("/admin/authority"),children:"Cancel"}),Object(a.jsxs)("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",children:["Submit",Object(a.jsx)("i",{className:"material-icons right",children:"send"})]})]}),Object(a.jsx)("div",{className:"red-text center",children:t?Object(a.jsx)("h5",{children:t}):null})]})]})})})})})}}]),c}(l.Component),ie=Object(u.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{addAuthority:function(t){return e(function(e){return function(t,c,a){var s=a.getFirebase,n=a.getFirestore,i=s(),r=n();i.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return r.collection("authority").doc(t.user.uid).set({locality:e.locality,name:e.name,phone:e.phone,email:e.email,password:e.password})})).then((function(){t({type:"ADD_AUTHORITY_SUCCESS",authority:e})})).catch((function(e){t({type:"ADD_AUTHORITY_ERROR",err:e})}))}}(t))}}}))(ne),re=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={"data-icon":null,Cid:"",label:"",value:"",clickedID:""},e.clickHandler=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.categories,c=0,s=t&&t.map((function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",++c]}),Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",t.Cid]}),Object(a.jsx)("td",{className:"tableContent",children:t.label}),Object(a.jsx)("td",{className:"tableContent",children:t.value}),Object(a.jsx)("td",{className:"center",children:Object(a.jsx)("button",{className:"btn-floating waves-effect waves-red red",value:"Delete",onClick:function(){return n(t.id)},children:Object(a.jsx)("i",{className:"material-icons",children:"clear"})})}),Object(a.jsx)("td",{className:"center",children:Object(a.jsx)("button",{"data-target":"modalEdit",className:"btn-flat waves-effect waves-light green-text modal-trigger",value:"Edit",onClick:function(){return e.setState({clickedID:t.id,Cid:t.Cid,label:t.label,value:t.value})},children:Object(a.jsx)("i",{className:"material-icons",children:"edit"})})})]},c)})),n=function(e){var c=t.filter((function(t){return t.id===e}))[0].id;$.a.firestore().collection("dropdownList").doc(c).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}));var a=t.filter((function(t){return t.id!==e}));t=a};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("table",{className:"highlight responsive-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"center",children:"Sl No"}),Object(a.jsx)("th",{className:"center",children:"ID"}),Object(a.jsxs)("th",{children:["\xa0\xa0","\xa0\xa0","Label"]}),Object(a.jsxs)("th",{children:["\xa0\xa0","\xa0\xa0","Value"]}),Object(a.jsx)("th",{className:"center red-text",children:"Delete"}),Object(a.jsx)("th",{className:"center green-text",children:"Edit"})]})}),Object(a.jsx)("tbody",{children:s})]}),Object(a.jsx)("div",{id:"modalEdit",className:"modal",children:Object(a.jsx)("div",{className:"modal-content",children:Object(a.jsxs)("form",{onSubmit:function(c){return function(c){c.preventDefault();var a={Cid:"",label:"",value:""};a.Cid=e.state.Cid,a.label=e.state.label,a.value=e.state.value;var s=t.filter((function(t){return t.id===e.state.clickedID}))[0].id;$.a.firestore().collection("dropdownList").doc(s).update({Cid:e.state.Cid,label:e.state.label,value:e.state.value}).then((function(){console.log("Document successfully edited!")})).catch((function(e){console.error("Error updating document: ",e)}));var n=t.filter((function(e){return e.id!==c}));t=n}(c)},children:[Object(a.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Edit Category Details"}),Object(a.jsx)("div",{className:"divider red accent-3"}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"Cid",placeholder:this.state.Cid,type:"text",className:"validate","data-length":"20",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"id",className:"black-text",children:"ID"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"label",placeholder:this.state.label,type:"text",className:"validate","data-length":"30",onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"label",className:"black-text",children:"Label"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"value",placeholder:this.state.value,type:"tel",className:"validate",maxLength:10,onChange:function(t){return e.clickHandler(t)}}),Object(a.jsx)("label",{htmlFor:"value",className:"black-text",children:"Value"})]})]}),Object(a.jsx)("div",{className:"modal-footer grey lighten-4",children:Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("button",{className:"btn waves-effect waves-light modal-close",type:"submit",name:"action",children:["Submit",Object(a.jsx)("i",{className:"material-icons right",children:"send"})]})})})]})})})]})}}]),c}(l.Component),le=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).addCategoryHandler=function(){e.props.history.push({pathname:"/admin/addcategory",state:e.state})},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.dropdown;t.auth;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col m1",children:Object(a.jsxs)("div",{className:"btnPadding",children:[Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"btn waves-effect waves-light red",onClick:function(){return e.addCategoryHandler()},children:"ADD CATEGORY"})]})}),Object(a.jsxs)("div",{className:"col s12 m10",children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"divider"}),Object(a.jsx)(re,{categories:c})]})]})}}]),c}(l.Component),oe=Object(w.d)(Object(u.b)((function(e){return console.log(e),{dropdown:e.firestore.ordered.dropdownList,auth:e.firebase.auth}})),Object(D.firestoreConnect)([{collection:"dropdownList"}]))(le),de={id:"",name:"",email:"",phone:"",password:"",locality:""},je=function(e){var t=0,c=e.authorities,s=c&&c.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",++t]}),Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.name]}),Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.email]}),Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.phone]}),Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.password]}),Object(a.jsxs)("td",{className:"center",children:["\xa0\xa0"," ",e.locality]}),Object(a.jsx)("td",{className:"center",children:Object(a.jsx)("button",{className:"btn-floating waves-effect waves-red red",value:"Delete",onClick:function(){return n(e.id)},children:Object(a.jsx)("i",{className:"material-icons",children:"clear"})})}),Object(a.jsx)("td",{className:"center",children:Object(a.jsx)("button",{"data-target":"modalEdit",className:"btn-flat waves-effect waves-light green-text modal-trigger",value:"Edit",onClick:function(){de=e},children:Object(a.jsx)("i",{className:"material-icons",children:"edit"})})})]},t)})),n=function(e){var t=c.filter((function(t){return t.id===e}))[0].id;$.a.firestore().collection("authority").doc(t).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}));var a=c.filter((function(t){return t.id!==e}));c=a};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("table",{className:"highlight responsive-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"center",children:"Sl No"}),Object(a.jsx)("th",{className:"center",children:"Name"}),Object(a.jsx)("th",{className:"center",children:"Email"}),Object(a.jsx)("th",{className:"center",children:"Phone"}),Object(a.jsx)("th",{className:"center",children:"Password"}),Object(a.jsx)("th",{className:"center",children:"Locality"}),Object(a.jsx)("th",{className:"center red-text",children:"Delete"}),Object(a.jsx)("th",{className:"center green-text",children:"Edit"})]})}),Object(a.jsx)("tbody",{children:s})]}),Object(a.jsx)("div",{id:"modalEdit",className:"modal",children:Object(a.jsx)("div",{className:"modal-content",children:Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(de);var t=c.filter((function(e){return e.id===de.id})),a=t[0].id;$.a.firestore().collection("authority").doc(a).update({name:t[0].name,email:t[0].email,phone:t[0].phone,password:t[0].password,locality:t[0].locality}).then((function(){console.log("Document successfully edited!")})).catch((function(e){console.error("Error updating document: ",e)}));var s=c.filter((function(t){return t.id!==e}));c=s}(e)},children:[Object(a.jsx)("h3",{className:"center blue-grey-text text-darken-4",children:"Edit Authority Details"}),Object(a.jsx)("div",{className:"divider red accent-3"}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"container blue-grey-text text-darken-4",children:[Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"name",placeholder:de.name,type:"text",className:"validate","data-length":"20",onChange:function(e){return de.name=e.value}}),Object(a.jsx)("label",{htmlFor:"name",className:"black-text",children:"Name"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"email",placeholder:de.email,type:"email",className:"validate","data-length":"30",onChange:function(e){return de.email=e.value}}),Object(a.jsx)("label",{htmlFor:"email",className:"black-text",children:"Email"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"phone",placeholder:de.phone,type:"tel",className:"validate",maxLength:10,onChange:function(e){return de.phone=e.value}}),Object(a.jsx)("label",{htmlFor:"phone",className:"black-text",children:"Phone"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"password",type:"password",className:"validate","data-length":"30",onChange:function(e){return de.password=e.value}}),Object(a.jsx)("label",{htmlFor:"password",className:"black-text",children:"Password"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"locality",placeholder:de.locality,type:"text",className:"validate","data-length":"20",onChange:function(e){return de.locality=e.value}}),Object(a.jsx)("label",{htmlFor:"locality",className:"black-text",children:"Locality"})]})]}),Object(a.jsx)("div",{className:"modal-footer grey lighten-4",children:Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("button",{className:"btn waves-effect waves-light modal-close",type:"submit",name:"action",children:["Submit",Object(a.jsx)("i",{className:"material-icons right",children:"send"})]})})})]})})})]})},ue=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).addAuthorityHandler=function(){e.props.history.push({pathname:"/admin/addauthority",state:e.state})},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.authorities;t.auth;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col S12 m1",children:Object(a.jsxs)("div",{className:"btnPadding",children:[Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"btn waves-effect waves-light red",onClick:function(){return e.addAuthorityHandler()},children:"ADD AUTHORITY"})]})}),Object(a.jsxs)("div",{className:"col s12 m10",children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"divider"}),Object(a.jsx)(je,{authorities:c})]})]})}}]),c}(l.Component),be=Object(w.d)(Object(u.b)((function(e){return{authorities:e.firestore.ordered.authority,auth:e.firebase.auth,authError:e.auth.authError}})),Object(D.firestoreConnect)([{collection:"authority",orderBy:["name","asc"]}]))(ue),he=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.submitHandler=function(t){"project.test.mail.19@gmail.com"!==e.state.email?(t.preventDefault(),e.props.signIn(e.state),setTimeout((function(){e.props.history.push({pathname:"/authorityhome",Locality:e.props.Locality})}),2e3)):alert("Invalid authority credentials!")},e.inputHandler=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e}return Object(n.a)(c,[{key:"render",value:function(){var e=this,t=this.props.authError;return Object(a.jsx)("div",{className:"container signInForm",children:Object(a.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(a.jsx)("h5",{className:"blye-grey-text text-darken-4",children:"Sign In"}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"email",type:"email",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(a.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("input",{id:"password",type:"password",className:"validate",onChange:function(t){return e.inputHandler(t)}}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("button",{type:"submit",className:"btn teal lighten-2 z-depth-2",children:"Login"}),Object(a.jsx)("div",{className:"red-text center",children:t?Object(a.jsx)("p",{children:t}):null})]})]})})}}]),c}(l.Component),me=Object(u.b)((function(e){return{authError:e.auth.authError,Locality:e.firebase.profile.locality}}),(function(e){return{signIn:function(t){return e(x(t))}}}))(Object(O.g)(he)),Oe=function(e){var t=e.issues,c=0,s=t&&t.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:["\xa0\xa0"," ",++c]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",e.Category]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",e.Type]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",e.Locality]}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ",new Date(1e3*e.DOR.seconds).toLocaleDateString("en-US")]}),Object(a.jsx)("td",{className:"center",children:Object(a.jsx)("button",{className:"Resolved"===e.Status?"btn waves-effect waves-teal":"btn waves-effect waves-red red",value:e.Status,onClick:function(){return n(e.id)},children:e.Status})}),Object(a.jsxs)("td",{children:["\xa0\xa0"," ","-"!==e.DOC?new Date(1e3*e.DOC.seconds).toLocaleDateString("en-US"):"-"]})]},c)})),n=function(e){var c=t.filter((function(t){return t.id===e})),a=t.filter((function(t){return t.id!==e}));c[0].Status="Resolved";var s=new Date,n=(s.getDate()<10?"0"+s.getDate():s.getDate())+"/"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"/"+s.getFullYear();c[0].DOC=n,$.a.firestore().collection("issues").doc(e).update({DOC:new Date,Status:"Resolved"}),a.push(c[0]),t=a};return Object(a.jsx)("div",{children:Object(a.jsxs)("table",{className:"highlight responsive-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Sl No"}),Object(a.jsx)("th",{children:"Issue Category"}),Object(a.jsx)("th",{className:"center",children:"Issue Type"}),Object(a.jsx)("th",{className:"center",children:"Location"}),Object(a.jsx)("th",{children:"Date of Reporting"}),Object(a.jsx)("th",{className:"center",children:"Status"}),Object(a.jsx)("th",{children:"Date of Closure"})]})}),Object(a.jsx)("tbody",{children:s})]})})},xe=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){var e=this.props,t=e.issues,c=e.auth,s=e.Locality;return c.uid||O.a,Object(a.jsx)("div",{className:"row",children:c.uid?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"col s12 m10 offset-m1",children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"divider"}),Object(a.jsx)(Oe,{issues:t=t&&t.filter((function(e){return e.Locality===s}))})]})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"progress",children:Object(a.jsx)("div",{className:"indeterminate"})})})})}}]),c}(l.Component),pe=Object(w.d)(Object(u.b)((function(e){return{issues:e.firestore.ordered.issues,auth:e.firebase.auth,Locality:e.firebase.profile.locality}})),Object(D.firestoreConnect)([{collection:"issues",orderBy:["DOR","desc"]}]))(xe),fe=function(e){Object(i.a)(c,e);var t=Object(r.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return Object(a.jsx)(z.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Z,{}),Object(a.jsxs)(O.d,{children:[Object(a.jsx)(O.b,{exact:!0,path:"/",component:h}),Object(a.jsx)(O.b,{path:"/about",component:_}),Object(a.jsx)(O.b,{path:"/home",component:W}),Object(a.jsx)(O.b,{path:"/report",component:R}),Object(a.jsx)(O.b,{path:"/adminlogin",component:f}),Object(a.jsx)(O.b,{path:"/issues/:id",component:K}),Object(a.jsx)(O.b,{path:"/admin/issues",component:ce}),Object(a.jsx)(O.b,{path:"/admin/category",component:oe}),Object(a.jsx)(O.b,{path:"/admin/addcategory",component:se}),Object(a.jsx)(O.b,{path:"/admin/addauthority",component:ie}),Object(a.jsx)(O.b,{path:"/admin/authority",component:be}),Object(a.jsx)(O.b,{path:"/authoritylogin",component:me}),Object(a.jsx)(O.b,{path:"/authorityhome",component:pe})]}),Object(a.jsx)(B,{})]})})}}]),c}(l.Component),ve=c(221),ge=c(20),Ne=c.n(ge);c(143);$.a.initializeApp({apiKey:"AIzaSyCKaJkKducJ0FQEfHgX9XpNNU4cYGqwjlw",authDomain:"project-piglet-909a2.firebaseapp.com",projectId:"project-piglet-909a2",storageBucket:"project-piglet-909a2.appspot.com",messagingSenderId:"245194952075",appId:"1:245194952075:web:7fa1e82734200f3d64738e"}),$.a.firestore();var ye=$.a,we=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,435)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))},Ce={authError:null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("Login error"),Object(S.a)(Object(S.a)({},e),{},{authError:"Login Failed"});case"LOGIN_SUCCESS":return console.log("Login success"),Object(S.a)(Object(S.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("Signout Success"),e;case"ADD_AUTHORITY_SUCCESS":return console.log("add authority Success"),Object(S.a)(Object(S.a)({},e),{},{authError:null});case"ADD_AUTHORITY_ERROR":return console.log("add authority error"),Object(S.a)(Object(S.a)({},e),{},{authError:t.err.message});default:return e}},Se={issues:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ISSUE":return console.log("Issue added",t.issue),e;case"CREATE_ISSUE_ERROR":return console.log("Issue add error",t.err),e;default:return e}},Ie={category:[]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DROPDOWN":return console.log("dropdown added",t.issue),e;case"ADD_DROPDOWN_ERROR":return console.log("add dropdown error",t.err),e;default:return e}},Le=c(68),Re=Object(w.c)({auth:De,issue:ke,category:Ee,firestore:Le.firestoreReducer,firebase:D.firebaseReducer}),Ae=Object(w.e)(Re,Object(w.d)(Object(w.a)(ve.a.withExtraArgument({getFirebase:D.getFirebase,getFirestore:Le.getFirestore})),Object(Le.reduxFirestore)(ye),Object(D.reactReduxFirebase)(ye,{useFirestoreForProfile:!0,userProfile:"authority",attachAuthIsReady:!0})));Ae.firebaseAuthIsReady.then(Ne.a.render(Object(a.jsx)(u.a,{store:Ae,children:Object(a.jsx)(fe,{})}),document.getElementById("root"))),we()}},[[434,1,2]]]);
//# sourceMappingURL=main.bb536357.chunk.js.map